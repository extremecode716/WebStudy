<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>서버의 데이터를 대상 엘리먼트에 삽입하기</title>
<style type="text/css">
div {
	width: 200px;
	height: 80px;
	margin: 3px;
	float: left;
}
</style>
<script src="http://code.jquery.com/jquery-1.11.1.js"></script>
<script type="text/javascript">
	/*
	 - load()를 이용했던 예제를 $.ajax() 함수를 사용해서 구현
	 - $.ajax()함수는 Ajax 요청을 설정하고 제어할 수 있도록 jQuery에서 제공하는 유틸리티 함수이다.i

	 */
	$(function() {
		/*   
		 - $.ajax()함수를 실행할 때 옵션으로 URL값(menu.html)을 지정하면 해당 URL서버로 Ajax요청을 한다.
		 - success 옵션에 지정한 콜백함수(function(data))는 요청이 성공했을 때 호출된다.
		 - 서버로부터 응답받은 데이터는 콜백함수의 매개변수로 전달된다.
		 - $.ajax()함수는 서버에서 반환되는 데이터의 형식에 따라 다르게 동작한다.
		 서버측에서 html데이터를 반환하면 html을 받아와 처리하기 위해서 데이터 타입(dateType) 옵션에 html을 지정한다.
		 */
		$('#menu1').click(function() {
			$.ajax({
				url : 'menu.html', // 서버의 불러올 파일명
				dataType : "html",
				success : function(data) { // 서버로부터 응답받은 데이터는 콜백함수의 매개변수로 전달된다.
					alert(data);
					$('#message1').html(data); // 콜백함수로 전달된 data를 id가 message1인 엘리먼트에 설정한다.
				}
			});
			return false;
		});
		$('#menu2').click(function() {
			$.ajax({
				url : 'menu.html',
				dataType : "html",
				success : function(data) { // 서버로부터 응답받은 데이터는 콜백함수의 매개변수로 전달된다.	    	
					alert(data);
					var asd = $(data).find('li');
					$('#message2').html($(data).find('li')); // menu.html문서의 내용중 li엘리먼트만 읽어서 id가 message2인
				} // 엘리먼트에 설정한다.
			});
			return false;
		});
	});
</script>
</head>
<body>
	<div>
		<a href="#" id="menu1">메뉴 보기 1</a>
		<p>
			<span id="message1"></span>
	</div>
	<div>
		<a href="#" id="menu2">메뉴 보기 2</a>
		<p>
			<span id="message2"></span>
	</div>
</body>
</html>
